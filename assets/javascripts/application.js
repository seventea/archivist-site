/*
#
# Opentip v2.4.6
#
# More info at [www.opentip.org](http://www.opentip.org)
# 
# Copyright (c) 2012, Matias Meno  
# Graphics by Tjandra Mayerhold
# 
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
# 
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
# 
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
# THE SOFTWARE.
#
*/
var Opentip,firstAdapter,i,mouseMoved,mousePosition,mousePositionObservers,position,vendors,_i,_len,_ref,__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,n,o){var s,r,a,l,u,h,d,p,c,f,m,g,v,y,_=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,s=this.adapter.data(e,"opentips")||[],s.push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw new Error("You can't call Opentip on multiple elements.");if(this.triggerElement.length<1)throw new Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},o=this.adapter.clone(o),"object"==typeof i?(o=i,i=n=void 0):"object"==typeof n&&(o=n,n=void 0),null!=n&&(o.title=n),null!=i&&this.setContent(i),null==o["extends"]&&(o["extends"]=null!=o.style?o.style:t.defaultStyle),l=[o],y=o;y["extends"];){if(h=y["extends"],y=t.styles[h],null==y)throw new Error("Invalid style: "+h);l.unshift(y),null==y["extends"]&&"standard"!==h&&(y["extends"]="standard")}for(o=(m=this.adapter).extend.apply(m,[{}].concat(__slice.call(l))),o.hideTriggers=function(){var t,e,i,n;for(i=o.hideTriggers,n=[],t=0,e=i.length;e>t;t++)r=i[t],n.push(r);return n}(),o.hideTrigger&&0===o.hideTriggers.length&&o.hideTriggers.push(o.hideTrigger),g=["tipJoint","targetJoint","stem"],d=0,c=g.length;c>d;d++)u=g[d],o[u]&&"string"==typeof o[u]&&(o[u]=new t.Joint(o[u]));for(!o.ajax||o.ajax!==!0&&o.ajax||(o.ajax="A"===this.adapter.tagName(this.triggerElement)?this.adapter.attr(this.triggerElement,"href"):!1),"click"===o.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),o.target&&(o.fixed=!0),o.stem===!0&&(o.stem=new t.Joint(o.tipJoint)),o.target===!0?o.target=this.triggerElement:o.target&&(o.target=this.adapter.wrap(o.target)),this.currentStem=o.stem,null==o.delay&&(o.delay="mouseover"===o.showOn?.2:0),null==o.targetJoint&&(o.targetJoint=new t.Joint(o.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],o.showOn&&"creation"!==o.showOn&&this.showTriggers.push({element:this.triggerElement,event:o.showOn}),null!=o.ajaxCache&&(o.cache=o.ajaxCache,delete o.ajaxCache),this.options=o,this.bound={},v=["prepareToShow","prepareToHide","show","hide","reposition"],p=0,f=v.length;f>p;p++)a=v[p],this.bound[a]=function(t){return function(){return _[t].apply(_,arguments)}}(a);this.adapter.domReady(function(){return _.activate(),"creation"===_.options.showOn?_.prepareToShow():void 0})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype["class"]={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,n,o,s,r,a,l,u,h;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],l=this.options.hideTriggers,n=o=0,r=l.length;r>o;n=++o){if(e=l[n],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[n]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw new Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(u=this.hideTriggers,h=[],s=0,a=u.length;a>s;s++)e=u[s],h.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return h},t.prototype._buildContainer=function(){return this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this["class"].container+" "+this["class"].hidden+" "+this["class"].stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this["class"].loading),this.options.fixed&&this.adapter.addClass(this.container,this["class"].fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this["class"].showEffectPrefix+this.options.showEffect),this.options.hideEffect?this.adapter.addClass(this.container,""+this["class"].hideEffectPrefix+this.options.hideEffect):void 0},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this["class"].opentip+'"><div class="'+this["class"].header+'"></div><div class="'+this["class"].content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this["class"].header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this["class"].loadingIndicator+'"><span>\u21bb</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this["class"].close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){return this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible?this._updateElementContent():void 0},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(t=this.adapter.find(this.container,"."+this["class"].content),null!=t&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:""+this.dimensions.width+"px",top:""+this.currentPosition.top+"px",left:""+this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,n,o,s,r,a,l,u,h,d,p,c,f,m,g=this;for(n=1<=arguments.length?__slice.call(arguments,0):[],s=0,u=n.length;u>s;s++)if(i=n[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,n;return t=1<=arguments.length?__slice.call(arguments,0):[],e?(i=g.adapter).stopObserving.apply(i,t):(n=g.adapter).observe.apply(n,t)},i){case"showing":for(c=this.hideTriggers,r=0,h=c.length;h>r;r++)o=c[r],t(o.element,o.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(f=this.showTriggersWhenVisible,a=0,d=f.length;d>a;a++)o=f[a],t(o.element,o.event,this.bound.prepareToShow);break;case"hiding":for(m=this.showTriggers,l=0,p=m.length;p>l;l++)o=m[l],t(o.element,o.event,this.bound.prepareToShow);break;case"hidden":break;default:throw new Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){return this._abortHiding(),this._abortShowing(),this.visible?void 0:(this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0))},t.prototype.show=function(){var e=this;return this._abortHiding(),this.visible?void 0:(this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this["class"].hiding),this.adapter.removeClass(this.container,this["class"].hidden),this.adapter.addClass(this.container,this["class"].goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e["class"].goingToShow),e.adapter.addClass(e.container,e["class"].showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:""+t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e["class"].showing),e.adapter.addClass(e.container,e["class"].visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate())},t.prototype._abortShowing=function(){return this.preparingToShow?(this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")):void 0},t.prototype.prepareToHide=function(){return this._abortShowing(),this._abortHiding(),this.visible?(this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)):void 0},t.prototype.hide=function(){var t=this;return this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container)?(this.adapter.removeClass(this.container,this["class"].visible),this.adapter.removeClass(this.container,this["class"].showing),this.adapter.addClass(this.container,this["class"].goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t["class"].goingToHide),t.adapter.addClass(t.container,t["class"].hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:""+e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){return t.adapter.removeClass(t.container,t["class"].hiding),t.adapter.addClass(t.container,t["class"].hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide?(t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement):void 0},e)})):void 0},t.prototype._abortHiding=function(){return this.preparingToHide?(this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")):void 0},t.prototype.reposition=function(){var t,e,i,n=this;return t=this.getPosition(),null==t||(e=this.options.stem,this.options.containInViewport&&(i=this._ensureViewportContainment(t),t=i.position,e=i.stem),this._positionsEqual(t,this.currentPosition))?void 0:(this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:""+t.left+"px",top:""+t.top+"px"}),this.defer(function(){var t,e;return t=n.adapter.unwrap(n.container),t.style.visibility="hidden",e=t.offsetHeight,t.style.visibility="visible"}))},t.prototype.getPosition=function(t,e,i){var n,o,s,r,a,l,u,h,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(u=this.adapter.offset(this.options.target),l=this.adapter.dimensions(this.options.target),r=u,e.right?(h=this.adapter.unwrap(this.options.target),null!=h.getBoundingClientRect?r.left=h.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=l.width):e.center&&(r.left+=Math.round(l.width/2)),e.bottom?r.top+=l.height:e.middle&&(r.top+=Math.round(l.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(a=this.options.stem?this.options.stemLength:0,s=a&&this.options.fixed?2:10,n=t.middle&&!this.options.fixed?15:0,o=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+n:t.left&&(r.left+=s+n),t.bottom?r.top-=s+o:t.top&&(r.top+=s+o),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,n,o,s,r,a,l,u,h,d,p,c;if(l=this.options.stem,o={position:e,stem:l},!this.visible||!e)return o;if(u=this._sticksOut(e),!u[0]&&!u[1])return o;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(h=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),p=this.adapter.viewportDimensions(),c=[e.left-a[0],e.top-a[1]],i=!1,p.width>=this.dimensions.width&&u[0])switch(i=!0,u[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&h.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&h.setHorizontal("left")}if(p.height>=this.dimensions.height&&u[1])switch(i=!0,u[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&h.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&h.setVertical("top")}return i?(this.options.stem&&(l=d),e=this.getPosition(d,h,l),n=this._sticksOut(e),s=!1,r=!1,n[0]&&n[0]!==u[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&h.setHorizontal(this.options.targetJoint.horizontal)),n[1]&&n[1]!==u[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&h.setVertical(this.options.targetJoint.vertical)),s&&r?o:((s||r)&&(this.options.stem&&(l=d),e=this.getPosition(d,h,l)),{position:e,stem:l})):o},t.prototype._sticksOut=function(t){var e,i,n,o;return i=this.adapter.scrollOffset(),o=this.adapter.viewportDimensions(),e=[t.left-i[0],t.top-i[1]],n=[!1,!1],e[0]<0?n[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>o.width&&(n[0]=this.STICKS_OUT_RIGHT),e[1]<0?n[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>o.height&&(n[1]=this.STICKS_OUT_BOTTOM),n},t.prototype._draw=function(){var e,i,n,o,s,r,a,l,u,h,d,p,c,f,m,g,v,y,_,w=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(v=["top","right","bottom","left"],m=0,g=v.length;g>m;m++)p=v[m],this.adapter.removeClass(this.container,"stem-"+p);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y.toString():void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),n=this.adapter.clone(this.dimensions),o=[0,0],this.options.borderWidth&&(n.width+=2*this.options.borderWidth,n.height+=2*this.options.borderWidth,o[0]-=this.options.borderWidth,o[1]-=this.options.borderWidth),this.options.shadow&&(n.width+=2*this.options.shadowBlur,n.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),n.height+=2*this.options.shadowBlur,n.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),o[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),o[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),n.width+=i.left+i.right,n.height+=i.top+i.bottom,o[0]-=i.left,o[1]-=i.top,this.currentStem&&this.options.borderWidth&&(_=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=_.stemLength,c=_.stemBase),e=this.adapter.unwrap(this.backgroundCanvas),e.width=n.width,e.height=n.height,this.adapter.css(this.backgroundCanvas,{width:""+e.width+"px",height:""+e.height+"px",left:""+o[0]+"px",top:""+o[1]+"px"}),l=e.getContext("2d"),l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,e.width,e.height),l.beginPath(),l.fillStyle=this._getColor(l,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),l.lineJoin="miter",l.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(l.strokeStyle=this.options.borderColor,l.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),h=function(t,e,i){return i&&l.moveTo(Math.max(c,w.options.borderRadius,r[0])+1-d,-d),e?(l.lineTo(t/2-c/2,-d),l.lineTo(t/2,-f-d),l.lineTo(t/2+c/2,-d)):void 0},u=function(t,e,i){var n,o,s,a;return t?(l.lineTo(-c+d,0-d),l.lineTo(f+d,-f-d),l.lineTo(d,c-d)):e?(a=w.options.closeButtonOffset,s=r[0],i%2!==0&&(a=[a[1],a[0]],s=r[1]),n=Math.acos(a[1]/w.options.closeButtonRadius),o=Math.acos(a[0]/w.options.closeButtonRadius),l.lineTo(-s+d,-d),l.arc(d-a[0],-d+a[1],w.options.closeButtonRadius,-(Math.PI/2+n),o,!1)):(l.lineTo(-w.options.borderRadius+d,-d),l.quadraticCurveTo(d,-d,d,w.options.borderRadius-d))},l.translate(-o[0],-o[1]),l.save(),function(){var e,i,n,o,r,a,d,p,c,f,m;for(m=[],i=c=0,f=t.positions.length/2;f>=0?f>c:c>f;i=f>=0?++c:--c)r=2*i,a=0===i||3===i?0:w.dimensions.width,d=2>i?0:w.dimensions.height,p=Math.PI/2*i,n=i%2===0?w.dimensions.width:w.dimensions.height,o=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),l.save(),l.translate(a,d),l.rotate(p),h(n,o.eql(w.currentStem),0===i),l.translate(n,0),u(e.eql(w.currentStem),e.eql(s),i),m.push(l.restore());return m}(),l.closePath(),l.save(),this.options.shadow&&(l.shadowColor=this.options.shadowColor,l.shadowBlur=this.options.shadowBlur,l.shadowOffsetX=this.options.shadowOffset[0],l.shadowOffsetY=this.options.shadowOffset[1]),l.fill(),l.restore(),this.options.borderWidth&&l.stroke(),l.restore(),s?function(){var t,e,i,n,o;return i=e=2*w.options.closeButtonRadius,"top right"===s.toString()?(o=[w.dimensions.width-w.options.closeButtonOffset[0],w.options.closeButtonOffset[1]],t=[o[0]+d,o[1]-d]):(o=[w.options.closeButtonOffset[0],w.options.closeButtonOffset[1]],t=[o[0]-d,o[1]-d]),l.translate(t[0],t[1]),n=w.options.closeButtonCrossSize/2,l.save(),l.beginPath(),l.strokeStyle=w.options.closeButtonCrossColor,l.lineWidth=w.options.closeButtonCrossLineWidth,l.lineCap="round",l.moveTo(-n,-n),l.lineTo(n,n),l.stroke(),l.beginPath(),l.moveTo(n,-n),l.lineTo(-n,n),l.stroke(),l.restore(),w.adapter.css(w.closeButtonElement,{left:""+(o[0]-n-w.options.closeButtonLinkOverscan)+"px",top:""+(o[1]-n-w.options.closeButtonLinkOverscan)+"px",width:""+(w.options.closeButtonCrossSize+2*w.options.closeButtonLinkOverscan)+"px",height:""+(w.options.closeButtonCrossSize+2*w.options.closeButtonLinkOverscan)+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,i){var n,o,s,r,a,l,u;if(r=i/2,s=Math.atan(t/2/e),n=2*s,a=r/Math.sin(n),o=2*a*Math.cos(s),u=r+e-o,0>u)throw new Error("Sorry but your stemLength / stemBase ratio is strange.");return l=Math.tan(s)*u*2,{stemLength:u,stemBase:l}},t.prototype._getColor=function(t,e,i,n){var o,s,r,a,l;if(null==n&&(n=!1),"string"==typeof i)return i;for(s=n?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,l=i.length;l>a;r=++a)o=i[r],s.addColorStop(o[0],o[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,n;for(n=this.adapter.findAll(this.container,"."+this["class"].close),e=0,i=n.length;i>e;e++)t=n[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});return this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible?this._setupObservers("-visible","visible"):void 0},t.prototype._activateFirstInput=function(){var t;return t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")),null!=t&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){return this.options.fixed?void 0:t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){return this.options.fixed?void 0:t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this["class"].loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t["class"].loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t["class"].ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t["class"].loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){return this._triggerElementExists()?void 0:(this.deactivate(),this._stopEnsureTriggerElement())},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,n,o,s,r;t=this.adapter.unwrap(t),r=[];for(i in e)__hasProp.call(e,i)&&(n=e[i],r.push(null!=t.style[i]?t.style[i]=n:function(){var e,r,a;for(a=[],e=0,r=vendors.length;r>e;e++)o=vendors[e],s=""+this.ucfirst(o)+this.ucfirst(i),a.push(null!=t.style[s]?t.style[s]=n:void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,n,o;for(mousePosition=Opentip.adapter.mousePosition(t),o=[],i=0,n=mousePositionObservers.length;n>i;i++)e=mousePositionObservers[i],o.push(e());return o},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,n,o;for(o=[],i=0,n=mousePositionObservers.length;n>i;i++)e=mousePositionObservers[i],e!==t&&o.push(e);return o}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t=t.toString()),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,n,o,s,r,a;for(i=["left","center","right"],n=0,s=i.length;s>n;n++)e=i[n],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],o=0,r=i.length;r>o;o++)e=i[o],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,n,o,s,r,a;for(i=["top","middle","bottom"],n=0,s=i.length;s>n;n++)e=i[n],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],o=0,r=i.length;r>o;o++)e=i[o],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t,e;return e=Opentip.position[this.toString(!0)],t=(e+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;return t=1<=arguments.length?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0)?(t.unshift("#"+this.id+" |"),console.debug.apply(console,t)):void 0},Opentip.findElements=function(){var t,e,i,n,o,s,r,a,l,u;for(t=Opentip.adapter,l=t.findAll(document.body,"[data-ot]"),u=[],r=0,a=l.length;a>r;r++){i=l[r],s={},e=t.data(i,"ot"),(""===e||"true"===e||"yes"===e)&&(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"";for(n in Opentip.styles.standard)o=t.data(i,"ot"+Opentip.prototype.ucfirst(n)),null!=o&&("yes"===o||"true"===o||"on"===o?o=!0:("no"===o||"false"===o||"off"===o)&&(o=!1),s[n]=o);u.push(new Opentip(i,e,s))}return u},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,n,o,s,r;for(s=Opentip.tips,r=[],n=0,o=s.length;o>n;n++)i=s[n],r.push(i!==e&&i.options.group===t?i._abortShowing():void 0);return r},Opentip._hideGroup=function(t,e){var i,n,o,s,r;for(s=Opentip.tips,r=[],n=0,o=s.length;o>n;n++)i=s[n],r.push(i!==e&&i.options.group===t?i.hide():void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){return Opentip.adapters[t.name]=t,firstAdapter?(Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1):void 0},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},_ref=Opentip.positions,i=_i=0,_len=_ref.length;_len>_i;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{"extends":null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{"extends":"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{"extends":"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{"extends":"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;var Adapter,__hasProp={}.hasOwnProperty,__slice=[].slice;Adapter=function(){function t(){}var e,i;return t.prototype.name="native",t.prototype.domReady=function(t){var e,i,n,o,s,r,a,l,u,h,d;if(n=!1,u=!0,h=window,i=document,"complete"===(d=i.readyState)||"loaded"===d)return t();if(l=i.documentElement,e=i.addEventListener?"addEventListener":"attachEvent",a=i.addEventListener?"removeEventListener":"detachEvent",r=i.addEventListener?"":"on",o=function(e){return"readystatechange"!==e.type||"complete"===i.readyState?(("load"===e.type?h:i)[a](r+e.type,o,!1),n?void 0:(n=!0,t())):void 0},s=function(){try{l.doScroll("left")}catch(t){return void setTimeout(s,50)}return o("poll")},"complete"!==i.readyState){if(i.createEventObject&&l.doScroll){try{u=!h.frameElement}catch(p){}u&&s()}return i[e](r+"DOMContentLoaded",o,!1),i[e](r+"readystatechange",o,!1),h[e](r+"load",o,!1)}},t.prototype.create=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,this.wrap(e.childNodes)},t.prototype.wrap=function(t){var e;return t?"string"==typeof t?(t=this.find(document.body,t),t=t?[t]:[]):t instanceof NodeList?t=function(){var i,n,o;
for(o=[],i=0,n=t.length;n>i;i++)e=t[i],o.push(e);return o}():t instanceof Array||(t=[t]):t=[],t},t.prototype.unwrap=function(t){return this.wrap(t)[0]},t.prototype.tagName=function(t){return this.unwrap(t).tagName},t.prototype.attr=function(t,e,i){return 3===arguments.length?this.unwrap(t).setAttribute(e,i):this.unwrap(t).getAttribute(e)},i=0,e={},t.prototype.data=function(t,n,o){var s;return s=this.attr(t,"data-id"),s||(s=++i,this.attr(t,"data-id",s),e[s]={}),3===arguments.length?e[s][n]=o:(o=e[s][n],null!=o?o:(o=this.attr(t,"data-"+Opentip.prototype.dasherize(n)),o&&(e[s][n]=o),o))},t.prototype.find=function(t,e){return this.unwrap(t).querySelector(e)},t.prototype.findAll=function(t,e){return this.unwrap(t).querySelectorAll(e)},t.prototype.update=function(t,e,i){return t=this.unwrap(t),i?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.innerHTML=e},t.prototype.append=function(t,e){var i,n;return i=this.unwrap(e),n=this.unwrap(t),n.appendChild(i)},t.prototype.remove=function(t){var e;return t=this.unwrap(t),e=t.parentNode,null!=e?e.removeChild(t):void 0},t.prototype.addClass=function(t,e){return this.unwrap(t).classList.add(e)},t.prototype.removeClass=function(t,e){return this.unwrap(t).classList.remove(e)},t.prototype.css=function(t,e){var i,n,o;t=this.unwrap(this.wrap(t)),o=[];for(i in e)__hasProp.call(e,i)&&(n=e[i],o.push(t.style[i]=n));return o},t.prototype.dimensions=function(t){var e,i;return t=this.unwrap(this.wrap(t)),e={width:t.offsetWidth,height:t.offsetHeight},e.width&&e.height||(i={position:t.style.position||"",visibility:t.style.visibility||"",display:t.style.display||""},this.css(t,{position:"absolute",visibility:"hidden",display:"block"}),e={width:t.offsetWidth,height:t.offsetHeight},this.css(t,i)),e},t.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},t.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},t.prototype.mousePosition=function(t){var e;if(e={x:0,y:0},null==t&&(t=window.event),null!=t){try{t.pageX||t.pageY?(e.x=t.pageX,e.y=t.pageY):(t.clientX||t.clientY)&&(e.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop)}catch(t){}return e}},t.prototype.offset=function(t){var e;for(t=this.unwrap(t),e={top:t.offsetTop,left:t.offsetLeft};t=t.offsetParent;)e.top+=t.offsetTop,e.left+=t.offsetLeft,t!==document.body&&(e.top-=t.scrollTop,e.left-=t.scrollLeft);return e},t.prototype.observe=function(t,e,i){return this.unwrap(t).addEventListener(e,i,!1)},t.prototype.stopObserving=function(t,e,i){return this.unwrap(t).removeEventListener(e,i,!1)},t.prototype.ajax=function(t){var e,i,n;if(null==t.url)throw new Error("No url provided");if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(o){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}if(!e)throw new Error("Can't create XMLHttpRequest");return e.onreadystatechange=function(){if(4===e.readyState){try{200===e.status?"function"==typeof t.onSuccess&&t.onSuccess(e.responseText):"function"==typeof t.onError&&t.onError("Server responded with status "+e.status)}catch(i){"function"==typeof t.onError&&t.onError(i.message)}return"function"==typeof t.onComplete?t.onComplete():void 0}},e.open(null!=(i=null!=(n=t.method)?n.toUpperCase():void 0)?i:"GET",t.url),e.send()},t.prototype.clone=function(t){var e,i,n;i={};for(e in t)__hasProp.call(t,e)&&(n=t[e],i[e]=n);return i},t.prototype.extend=function(){var t,e,i,n,o,s,r;for(n=arguments[0],i=2<=arguments.length?__slice.call(arguments,1):[],s=0,r=i.length;r>s;s++){e=i[s];for(t in e)__hasProp.call(e,t)&&(o=e[t],n[t]=o)}return n},t}(),Opentip.addAdapter(new Adapter),"undefined"==typeof document||"classList"in document.createElement("a")||!function(t){"use strict";if("HTMLElement"in t||"Element"in t){var e="classList",i="prototype",n=(t.HTMLElement||t.Element)[i],o=Object,s=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array[i].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},u=function(t){for(var e=s.call(t.className),i=e?e.split(/\s+/):[],n=0,o=i.length;o>n;n++)this.push(i[n]);this._updateClassName=function(){t.className=this.toString()}},h=u[i]=[],d=function(){return new u(this)};if(a[i]=Error[i],h.item=function(t){return this[t]||null},h.contains=function(t){return t+="",-1!==l(this,t)},h.add=function(){var t,e=arguments,i=0,n=e.length,o=!1;do t=e[i]+"",-1===l(this,t)&&(this.push(t),o=!0);while(++i<n);o&&this._updateClassName()},h.remove=function(){var t,e=arguments,i=0,n=e.length,o=!1;do{t=e[i]+"";var s=l(this,t);-1!==s&&(this.splice(s,1),o=!0)}while(++i<n);o&&this._updateClassName()},h.toggle=function(t,e){t+="";var i=this.contains(t),n=i?e!==!0&&"remove":e!==!1&&"add";return n&&this[n](t),i},h.toString=function(){return this.join(" ")},o.defineProperty){var p={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,p)}catch(c){-2146823252===c.number&&(p.enumerable=!1,o.defineProperty(n,e,p))}}else o[i].__defineGetter__&&n.__defineGetter__(e,d)}}(self),!window.addEventListener&&function(t,e,i,n,o,s,r){t[n]=e[n]=i[n]=function(t,e){var i=this;r.unshift([i,t,e,function(t){t.currentTarget=i,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||i,e.call(i,t)}]),this.attachEvent("on"+t,r[0][3])},t[o]=e[o]=i[o]=function(t,e){for(var i,n=0;i=r[n];++n)if(i[0]==this&&i[1]==t&&i[2]==e)return this.detachEvent("on"+t,r.splice(n,1)[0][3])},t[s]=e[s]=i[s]=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20140901
 */
function(t,e){"use strict";function i(i,n){function o(t){return ce.preferFlash&&re&&!ce.ignoreFlash&&ce.flash[t]!==e&&ce.flash[t]}function s(t){return function(e){var i,n=this._s;return i=n&&n._a?t.call(this,e):null}}this.setupOptions={url:i||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=n||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20140901",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var r,a,l,u,h,d,p,c,f,m,g,v,y,_,w,b,O,T,M,E,P,S,L,C,A,x,I,H,D,B,k,F,U,R,N,j,W,J,V,q,z,X,G,K,Q,Y,$,Z,te,ee,ie,ne,oe,se,re,ae,le,ue,he,de,pe,ce=this,fe=null,me=null,ge=navigator.userAgent,ve=t.location.href.toString(),ye=document,_e=[],we=!1,be=!1,Oe=!1,Te=!1,Me=!1,Ee=8,Pe=null,Se=null,Le=!1,Ce=!1,Ae=0,xe=null,Ie=[],He=null,De=Array.prototype.slice,Be=!1,ke=0,Fe=ge.match(/(ipad|iphone|ipod)/i),Ue=ge.match(/android/i),Re=ge.match(/msie/i),Ne=ge.match(/webkit/i),je=ge.match(/safari/i)&&!ge.match(/chrome/i),We=ge.match(/opera/i),Je=ge.match(/(mobile|pre\/|xoom)/i)||Fe||Ue,Ve=!ve.match(/usehtml5audio/i)&&!ve.match(/sm2\-ignorebadua/i)&&je&&!ge.match(/silk/i)&&ge.match(/OS X 10_6_([3-7])/i),qe=(t.console!==e&&console.log!==e,ye.hasFocus!==e?ye.hasFocus():null),ze=je&&(ye.hasFocus===e||!ye.hasFocus()),Xe=!ze,Ge=/(mp3|mp4|mpa|m4a|m4b)/i,Ke=1e3,Qe="about:blank",Ye="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",$e=ye.location?ye.location.protocol.match(/http/i):null,Ze=$e?"":"http://",ti=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,ei=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],ii=new RegExp("\\.("+ei.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!$e,j={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==e&&(We&&opera!==e&&opera.version()<10?new Audio(null):new Audio).canPlayType!==e}catch(t){return!1}}(),this.setup=function(t){var i=!ce.url;return t!==e&&Oe&&He&&ce.ok()&&(t.flashVersion!==e||t.url!==e||t.html5Test!==e),f(t),t&&(i&&C&&t.url!==e&&ce.beginDelayedInit(),C||t.url===e||"complete"!==ye.readyState||setTimeout(S,1)),ce},this.ok=function(){return He?Oe&&!Te:ce.useHTML5Audio&&ce.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return a(e)||ye[e]||t[e]},this.createSound=function(t,i){function n(){return s=W(s),ce.sounds[s.id]=new r(s),ce.soundIDs.push(s.id),ce.sounds[s.id]}var o,s,a=null;if(!Oe||!ce.ok())return!1;if(i!==e&&(t={id:t,url:i}),s=c(t),s.url=K(s.url),void 0===s.id&&(s.id=ce.setupOptions.idPrefix+ke++),q(s.id,!0))return ce.sounds[s.id];if($(s))a=n(),a._setup_html5(s);else{if(ce.html5Only)return n();if(ce.html5.usingFlash&&s.url&&s.url.match(/data\:/i))return n();d>8&&null===s.isMovieStar&&(s.isMovieStar=!!(s.serverURL||(s.type?s.type.match(ti):!1)||s.url&&s.url.match(ii))),s=J(s,o),a=n(),8===d?me._createSound(s.id,s.loops||1,s.usePolicyFile):(me._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),s.serverURL||(a.connected=!0,s.onconnect&&s.onconnect.apply(a))),s.serverURL||!s.autoLoad&&!s.autoPlay||a.load(s)}return!s.serverURL&&s.autoPlay&&a.play(),a},this.destroySound=function(t,e){if(!q(t))return!1;var i,n=ce.sounds[t];for(n._iO={},n.stop(),n.unload(),i=0;i<ce.soundIDs.length;i++)if(ce.soundIDs[i]===t){ce.soundIDs.splice(i,1);break}return e||n.destruct(!0),n=null,delete ce.sounds[t],!0},this.load=function(t,e){return q(t)?ce.sounds[t].load(e):!1},this.unload=function(t){return q(t)?ce.sounds[t].unload():!1},this.onPosition=function(t,e,i,n){return q(t)?ce.sounds[t].onposition(e,i,n):!1},this.onposition=this.onPosition,this.clearOnPosition=function(t,e,i){return q(t)?ce.sounds[t].clearOnPosition(e,i):!1},this.play=function(t,e){var i=null,n=e&&!(e instanceof Object);if(!Oe||!ce.ok())return!1;if(q(t,n))n&&(e={url:e});else{if(!n)return!1;n&&(e={url:e}),e&&e.url&&(e.id=t,i=ce.createSound(e).play())}return null===i&&(i=ce.sounds[t].play(e)),i},this.start=this.play,this.setPosition=function(t,e){return q(t)?ce.sounds[t].setPosition(e):!1},this.stop=function(t){return q(t)?ce.sounds[t].stop():!1},this.stopAll=function(){var t;for(t in ce.sounds)ce.sounds.hasOwnProperty(t)&&ce.sounds[t].stop()},this.pause=function(t){return q(t)?ce.sounds[t].pause():!1},this.pauseAll=function(){var t;for(t=ce.soundIDs.length-1;t>=0;t--)ce.sounds[ce.soundIDs[t]].pause()},this.resume=function(t){return q(t)?ce.sounds[t].resume():!1},this.resumeAll=function(){var t;for(t=ce.soundIDs.length-1;t>=0;t--)ce.sounds[ce.soundIDs[t]].resume()},this.togglePause=function(t){return q(t)?ce.sounds[t].togglePause():!1},this.setPan=function(t,e){return q(t)?ce.sounds[t].setPan(e):!1},this.setVolume=function(t,e){return q(t)?ce.sounds[t].setVolume(e):!1},this.mute=function(t){var e=0;if(t instanceof String&&(t=null),t)return q(t)?ce.sounds[t].mute():!1;for(e=ce.soundIDs.length-1;e>=0;e--)ce.sounds[ce.soundIDs[e]].mute();return ce.muted=!0,!0},this.muteAll=function(){ce.mute()},this.unmute=function(t){var e;if(t instanceof String&&(t=null),t)return q(t)?ce.sounds[t].unmute():!1;for(e=ce.soundIDs.length-1;e>=0;e--)ce.sounds[ce.soundIDs[e]].unmute();return ce.muted=!1,!0},this.unmuteAll=function(){ce.unmute()},this.toggleMute=function(t){return q(t)?ce.sounds[t].toggleMute():!1},this.getMemoryUse=function(){var t=0;return me&&8!==d&&(t=parseInt(me._getMemoryUse(),10)),t},this.disable=function(i){var n;if(i===e&&(i=!1),Te)return!1;for(Te=!0,n=ce.soundIDs.length-1;n>=0;n--)B(ce.sounds[ce.soundIDs[n]]);return p(i),oe.remove(t,"load",y),!0},this.canPlayMIME=function(t){var e;return ce.hasHTML5&&(e=Z({type:t})),!e&&He&&(e=t&&ce.ok()?!!((d>8?t.match(ti):null)||t.match(ce.mimePattern)):null),e},this.canPlayURL=function(t){var e;return ce.hasHTML5&&(e=Z({url:t})),!e&&He&&(e=t&&ce.ok()?!!t.match(ce.filePattern):null),e},this.canPlayLink=function(t){return t.type!==e&&t.type&&ce.canPlayMIME(t.type)?!0:ce.canPlayURL(t.href)},this.getSoundById=function(t){if(!t)return null;var e=ce.sounds[t];return e},this.onready=function(e,i){var n="onready",o=!1;if("function"!=typeof e)throw U("needFunction",n);return i||(i=t),g(n,e,i),v(),o=!0,o},this.ontimeout=function(e,i){var n="ontimeout",o=!1;if("function"!=typeof e)throw U("needFunction",n);return i||(i=t),g(n,e,i),v({type:n}),o=!0,o},this._writeDebug=function(){return!0},this._wD=this._writeDebug,this._debug=function(){},this.reboot=function(e,i){var n,o,s;for(n=ce.soundIDs.length-1;n>=0;n--)ce.sounds[ce.soundIDs[n]].destruct();if(me)try{Re&&(Se=me.innerHTML),Pe=me.parentNode.removeChild(me)}catch(r){}if(Se=Pe=He=me=null,ce.enabled=C=Oe=Le=Ce=we=be=Te=Be=ce.swfLoaded=!1,ce.soundIDs=[],ce.sounds={},ke=0,e)_e=[];else for(n in _e)if(_e.hasOwnProperty(n))for(o=0,s=_e[n].length;s>o;o++)_e[n][o].fired=!1;return ce.html5={usingFlash:null},ce.flash={},ce.html5Only=!1,ce.ignoreFlash=!1,t.setTimeout(function(){P(),i||ce.beginDelayedInit()},20),ce},this.reset=function(){return ce.reboot(!0,!0)},this.getMoviePercent=function(){return me&&"PercentLoaded"in me?me.PercentLoaded():null},this.beginDelayedInit=function(){Me=!0,S(),setTimeout(function(){return Ce?!1:(x(),E(),Ce=!0,!0)},20),_()},this.destruct=function(){ce.disable(!0)},r=function(t){var i,n,o,s,r,a,l,u,h,p,f=this,m=!1,g=[],v=0,y=null;h={duration:null,time:null},this.id=t.id,this.sID=this.id,this.url=t.url,this.options=c(t),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,p=this.url?!1:!0,this.id3={},this._debug=function(){},this.load=function(t){var i,n=null;if(t!==e?f._iO=c(t,f.options):(t=f.options,f._iO=t,y&&y!==f.url&&(f._iO.url=f.url,f.url=null)),f._iO.url||(f._iO.url=f.url),f._iO.url=K(f._iO.url),f.instanceOptions=f._iO,i=f._iO,!i.url&&!f.url)return f;if(i.url===f.url&&0!==f.readyState&&2!==f.readyState)return 3===f.readyState&&i.onload&&pe(f,function(){i.onload.apply(f,[!!f.duration])}),f;if(f.loaded=!1,f.readyState=1,f.playState=0,f.id3={},$(i))n=f._setup_html5(i),n._called_load||(f._html5_canplay=!1,f.url!==i.url&&(f._a.src=i.url,f.setPosition(0)),f._a.autobuffer="auto",f._a.preload="auto",f._a._called_load=!0);else{if(ce.html5Only)return f;if(f._iO.url&&f._iO.url.match(/data\:/i))return f;try{f.isHTML5=!1,f._iO=J(W(i)),f._iO.autoPlay&&(f._iO.position||f._iO.from)&&(f._iO.autoPlay=!1),i=f._iO,8===d?me._load(f.id,i.url,i.stream,i.autoPlay,i.usePolicyFile):me._load(f.id,i.url,!!i.stream,!!i.autoPlay,i.loops||1,!!i.autoLoad,i.usePolicyFile)}catch(o){I({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return f.url=i.url,f},this.unload=function(){return 0!==f.readyState&&(f.isHTML5?(s(),f._a&&(f._a.pause(),y=ee(f._a))):8===d?me._unload(f.id,Qe):me._unload(f.id),i()),f},this.destruct=function(t){f.isHTML5?(s(),f._a&&(f._a.pause(),ee(f._a),Be||o(),f._a._s=null,f._a=null)):(f._iO.onfailure=null,me._destroySound(f.id)),t||ce.destroySound(f.id,!0)},this.play=function(t,i){var n,o,s,l,h,g,v=!0,y=null;if(i=i===e?!0:i,t||(t={}),f.url&&(f._iO.url=f.url),f._iO=c(f._iO,f.options),f._iO=c(t,f._iO),f._iO.url=K(f._iO.url),f.instanceOptions=f._iO,!f.isHTML5&&f._iO.serverURL&&!f.connected)return f.getAutoPlay()||f.setAutoPlay(!0),f;if($(f._iO)&&(f._setup_html5(f._iO),r()),1!==f.playState||f.paused||(n=f._iO.multiShot,n||(f.isHTML5&&f.setPosition(f._iO.position),y=f)),null!==y)return y;if(t.url&&t.url!==f.url&&(f.readyState||f.isHTML5||8!==d||!p?f.load(f._iO):p=!1),f.loaded||(0===f.readyState?(f.isHTML5||ce.html5Only?f.isHTML5?f.load(f._iO):y=f:(f._iO.autoPlay=!0,f.load(f._iO)),f.instanceOptions=f._iO):2===f.readyState&&(y=f)),null!==y)return y;if(!f.isHTML5&&9===d&&f.position>0&&f.position===f.duration&&(t.position=0),f.paused&&f.position>=0&&(!f._iO.serverURL||f.position>0))f.resume();else{if(f._iO=c(t,f._iO),(!f.isHTML5&&null!==f._iO.position&&f._iO.position>0||null!==f._iO.from&&f._iO.from>0||null!==f._iO.to)&&0===f.instanceCount&&0===f.playState&&!f._iO.serverURL){if(s=function(){f._iO=c(t,f._iO),f.play(f._iO)},f.isHTML5&&!f._html5_canplay?(f.load({_oncanplay:s}),y=!1):f.isHTML5||f.loaded||f.readyState&&2===f.readyState||(f.load({onload:s}),y=!1),null!==y)return y;f._iO=u()}(!f.instanceCount||f._iO.multiShotEvents||f.isHTML5&&f._iO.multiShot&&!Be||!f.isHTML5&&d>8&&!f.getAutoPlay())&&f.instanceCount++,f._iO.onposition&&0===f.playState&&a(f),f.playState=1,f.paused=!1,f.position=f._iO.position===e||isNaN(f._iO.position)?0:f._iO.position,f.isHTML5||(f._iO=J(W(f._iO))),f._iO.onplay&&i&&(f._iO.onplay.apply(f),m=!0),f.setVolume(f._iO.volume,!0),f.setPan(f._iO.pan,!0),f.isHTML5?f.instanceCount<2?(r(),o=f._setup_html5(),f.setPosition(f._iO.position),o.play()):(l=new Audio(f._iO.url),h=function(){oe.remove(l,"ended",h),f._onfinish(f),ee(l),l=null},g=function(){oe.remove(l,"canplay",g);try{l.currentTime=f._iO.position/Ke}catch(t){}l.play()},oe.add(l,"ended",h),void 0!==f._iO.volume&&(l.volume=Math.max(0,Math.min(1,f._iO.volume/100))),f.muted&&(l.muted=!0),f._iO.position?oe.add(l,"canplay",g):l.play()):(v=me._start(f.id,f._iO.loops||1,9===d?f.position:f.position/Ke,f._iO.multiShot||!1),9!==d||v||f._iO.onplayerror&&f._iO.onplayerror.apply(f))}return f},this.start=this.play,this.stop=function(t){var e,i=f._iO;return 1===f.playState&&(f._onbufferchange(0),f._resetOnPosition(0),f.paused=!1,f.isHTML5||(f.playState=0),l(),i.to&&f.clearOnPosition(i.to),f.isHTML5?f._a&&(e=f.position,f.setPosition(0),f.position=e,f._a.pause(),f.playState=0,f._onTimer(),s()):(me._stop(f.id,t),i.serverURL&&f.unload()),f.instanceCount=0,f._iO={},i.onstop&&i.onstop.apply(f)),f},this.setAutoPlay=function(t){f._iO.autoPlay=t,f.isHTML5||(me._setAutoPlay(f.id,t),t&&(f.instanceCount||1!==f.readyState||f.instanceCount++))},this.getAutoPlay=function(){return f._iO.autoPlay},this.setPosition=function(t){t===e&&(t=0);var i,n,o=f.isHTML5?Math.max(t,0):Math.min(f.duration||f._iO.duration,Math.max(t,0));if(f.position=o,n=f.position/Ke,f._resetOnPosition(f.position),f._iO.position=o,f.isHTML5){if(f._a){if(f._html5_canplay){if(f._a.currentTime!==n)try{f._a.currentTime=n,(0===f.playState||f.paused)&&f._a.pause()}catch(s){}}else if(n)return f;f.paused&&f._onTimer(!0)}}else i=9===d?f.position:n,f.readyState&&2!==f.readyState&&me._setPosition(f.id,i,f.paused||!f.playState,f._iO.multiShot);return f},this.pause=function(t){return f.paused||0===f.playState&&1!==f.readyState?f:(f.paused=!0,f.isHTML5?(f._setup_html5().pause(),s()):(t||t===e)&&me._pause(f.id,f._iO.multiShot),f._iO.onpause&&f._iO.onpause.apply(f),f)},this.resume=function(){var t=f._iO;return f.paused?(f.paused=!1,f.playState=1,f.isHTML5?(f._setup_html5().play(),r()):(t.isMovieStar&&!t.serverURL&&f.setPosition(f.position),me._pause(f.id,t.multiShot)),!m&&t.onplay?(t.onplay.apply(f),m=!0):t.onresume&&t.onresume.apply(f),f):f},this.togglePause=function(){return 0===f.playState?(f.play({position:9!==d||f.isHTML5?f.position/Ke:f.position}),f):(f.paused?f.resume():f.pause(),f)},this.setPan=function(t,i){return t===e&&(t=0),i===e&&(i=!1),f.isHTML5||me._setPan(f.id,t),f._iO.pan=t,i||(f.pan=t,f.options.pan=t),f},this.setVolume=function(t,i){return t===e&&(t=100),i===e&&(i=!1),f.isHTML5?f._a&&(ce.muted&&!f.muted&&(f.muted=!0,f._a.muted=!0),f._a.volume=Math.max(0,Math.min(1,t/100))):me._setVolume(f.id,ce.muted&&!f.muted||f.muted?0:t),f._iO.volume=t,i||(f.volume=t,f.options.volume=t),f},this.mute=function(){return f.muted=!0,f.isHTML5?f._a&&(f._a.muted=!0):me._setVolume(f.id,0),f},this.unmute=function(){f.muted=!1;var t=f._iO.volume!==e;return f.isHTML5?f._a&&(f._a.muted=!1):me._setVolume(f.id,t?f._iO.volume:f.options.volume),f},this.toggleMute=function(){return f.muted?f.unmute():f.mute()},this.onPosition=function(t,i,n){return g.push({position:parseInt(t,10),method:i,scope:n!==e?n:f,fired:!1}),f},this.onposition=this.onPosition,this.clearOnPosition=function(t,e){var i;if(t=parseInt(t,10),isNaN(t))return!1;for(i=0;i<g.length;i++)t===g[i].position&&(e&&e!==g[i].method||(g[i].fired&&v--,g.splice(i,1)))},this._processOnPosition=function(){var t,e,i=g.length;if(!i||!f.playState||v>=i)return!1;for(t=i-1;t>=0;t--)e=g[t],!e.fired&&f.position>=e.position&&(e.fired=!0,v++,e.method.apply(e.scope,[e.position]),i=g.length);return!0},this._resetOnPosition=function(t){var e,i,n=g.length;if(!n)return!1;for(e=n-1;e>=0;e--)i=g[e],i.fired&&t<=i.position&&(i.fired=!1,v--);return!0},u=function(){var t,e,i=f._iO,n=i.from,o=i.to;return e=function(){f.clearOnPosition(o,e),f.stop()},t=function(){null===o||isNaN(o)||f.onPosition(o,e)},null===n||isNaN(n)||(i.position=n,i.multiShot=!1,t()),i},a=function(){var t,e=f._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&f.onPosition(parseInt(t,10),e[t])},l=function(){var t,e=f._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&f.clearOnPosition(parseInt(t,10))},r=function(){f.isHTML5&&z(f)},s=function(){f.isHTML5&&X(f)},i=function(t){t||(g=[],v=0),m=!1,f._hasTimer=null,f._a=null,f._html5_canplay=!1,f.bytesLoaded=null,f.bytesTotal=null,f.duration=f._iO&&f._iO.duration?f._iO.duration:null,f.durationEstimate=null,f.buffered=[],f.eqData=[],f.eqData.left=[],f.eqData.right=[],f.failures=0,f.isBuffering=!1,f.instanceOptions={},f.instanceCount=0,f.loaded=!1,f.metadata={},f.readyState=0,f.muted=!1,f.paused=!1,f.peakData={left:0,right:0},f.waveformData={left:[],right:[]},f.playState=0,f.position=null,f.id3={}},i(),this._onTimer=function(t){var e,i,n=!1,o={};return f._hasTimer||t?(f._a&&(t||(f.playState>0||1===f.readyState)&&!f.paused)&&(e=f._get_html5_duration(),e!==h.duration&&(h.duration=e,f.duration=e,n=!0),f.durationEstimate=f.duration,i=f._a.currentTime*Ke||0,i!==h.time&&(h.time=i,n=!0),(n||t)&&f._whileplaying(i,o,o,o,o)),n):void 0},this._get_html5_duration=function(){var t=f._iO,e=f._a&&f._a.duration?f._a.duration*Ke:t&&t.duration?t.duration:null,i=e&&!isNaN(e)&&1/0!==e?e:null;return i},this._apply_loop=function(t,e){t.loop=e>1?"loop":""},this._setup_html5=function(t){var e,o=c(f._iO,t),s=Be?fe:f._a,r=decodeURI(o.url);if(Be?r===decodeURI(se)&&(e=!0):r===decodeURI(y)&&(e=!0),s){if(s._s)if(Be)s._s&&s._s.playState&&!e&&s._s.stop();else if(!Be&&r===decodeURI(y))return f._apply_loop(s,o.loops),s;e||(y&&i(!1),s.src=o.url,f.url=o.url,y=o.url,se=o.url,s._called_load=!1)}else o.autoLoad||o.autoPlay?(f._a=new Audio(o.url),f._a.load()):f._a=We&&opera.version()<10?new Audio(null):new Audio,s=f._a,s._called_load=!1,Be&&(fe=s);return f.isHTML5=!0,f._a=s,s._s=f,n(),f._apply_loop(s,o.loops),o.autoLoad||o.autoPlay?f.load():(s.autobuffer=!1,s.preload="auto"),s},n=function(){function t(t,e,i){return f._a?f._a.addEventListener(t,e,i||!1):null}if(f._a._added_events)return!1;var e;f._a._added_events=!0;for(e in ue)ue.hasOwnProperty(e)&&t(e,ue[e]);return!0},o=function(){function t(t,e,i){return f._a?f._a.removeEventListener(t,e,i||!1):null}var e;f._a._added_events=!1;for(e in ue)ue.hasOwnProperty(e)&&t(e,ue[e])},this._onload=function(t){var e=!!t||!f.isHTML5&&8===d&&f.duration;return f.loaded=e,f.readyState=e?3:2,f._onbufferchange(0),f._iO.onload&&pe(f,function(){f._iO.onload.apply(f,[e])}),!0},this._onbufferchange=function(t){return 0===f.playState?!1:t&&f.isBuffering||!t&&!f.isBuffering?!1:(f.isBuffering=1===t,f._iO.onbufferchange&&f._iO.onbufferchange.apply(f,[t]),!0)},this._onsuspend=function(){return f._iO.onsuspend&&f._iO.onsuspend.apply(f),!0},this._onfailure=function(t,e,i){f.failures++,f._iO.onfailure&&1===f.failures&&f._iO.onfailure(t,e,i)},this._onwarning=function(t,e,i){f._iO.onwarning&&f._iO.onwarning(t,e,i)},this._onfinish=function(){var t=f._iO.onfinish;f._onbufferchange(0),f._resetOnPosition(0),f.instanceCount&&(f.instanceCount--,f.instanceCount||(l(),f.playState=0,f.paused=!1,f.instanceCount=0,f.instanceOptions={},f._iO={},s(),f.isHTML5&&(f.position=0)),(!f.instanceCount||f._iO.multiShotEvents)&&t&&pe(f,function(){t.apply(f)}))},this._whileloading=function(t,e,i,n){var o=f._iO;f.bytesLoaded=t,f.bytesTotal=e,f.duration=Math.floor(i),f.bufferLength=n,f.durationEstimate=f.isHTML5||o.isMovieStar?f.duration:o.duration?f.duration>o.duration?f.duration:o.duration:parseInt(f.bytesTotal/f.bytesLoaded*f.duration,10),f.isHTML5||(f.buffered=[{start:0,end:f.duration}]),(3!==f.readyState||f.isHTML5)&&o.whileloading&&o.whileloading.apply(f)},this._whileplaying=function(t,i,n,o,s){var r,a=f._iO;return isNaN(t)||null===t?!1:(f.position=Math.max(0,t),f._processOnPosition(),!f.isHTML5&&d>8&&(a.usePeakData&&i!==e&&i&&(f.peakData={left:i.leftPeak,right:i.rightPeak}),a.useWaveformData&&n!==e&&n&&(f.waveformData={left:n.split(","),right:o.split(",")}),a.useEQData&&s!==e&&s&&s.leftEQ&&(r=s.leftEQ.split(","),f.eqData=r,f.eqData.left=r,s.rightEQ!==e&&s.rightEQ&&(f.eqData.right=s.rightEQ.split(",")))),1===f.playState&&(f.isHTML5||8!==d||f.position||!f.isBuffering||f._onbufferchange(0),a.whileplaying&&a.whileplaying.apply(f)),!0)},this._oncaptiondata=function(t){f.captiondata=t,f._iO.oncaptiondata&&f._iO.oncaptiondata.apply(f,[t])},this._onmetadata=function(t,e){var i,n,o={};for(i=0,n=t.length;n>i;i++)o[t[i]]=e[i];f.metadata=o,console.log("updated metadata",f.metadata),f._iO.onmetadata&&f._iO.onmetadata.call(f,f.metadata)},this._onid3=function(t,e){var i,n,o=[];for(i=0,n=t.length;n>i;i++)o[t[i]]=e[i];f.id3=c(f.id3,o),f._iO.onid3&&f._iO.onid3.apply(f)},this._onconnect=function(t){t=1===t,f.connected=t,t&&(f.failures=0,q(f.id)&&(f.getAutoPlay()?f.play(e,f.getAutoPlay()):f._iO.autoLoad&&f.load()),f._iO.onconnect&&f._iO.onconnect.apply(f,[t]))},this._ondataerror=function(){f.playState>0&&f._iO.ondataerror&&f._iO.ondataerror.apply(f)}},A=function(){return ye.body||ye.getElementsByTagName("div")[0]},a=function(t){return ye.getElementById(t)},c=function(t,i){var n,o,s=t||{};n=i===e?ce.defaultOptions:i;for(o in n)n.hasOwnProperty(o)&&s[o]===e&&(s[o]="object"!=typeof n[o]||null===n[o]?n[o]:c(s[o],n[o]));return s},pe=function(e,i){e.isHTML5||8!==d?i():t.setTimeout(i,0)},m={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},f=function(t,i){var n,o=!0,s=i!==e,r=ce.setupOptions,a=m;for(n in t)if(t.hasOwnProperty(n))if("object"!=typeof t[n]||null===t[n]||t[n]instanceof Array||t[n]instanceof RegExp)s&&a[i]!==e?ce[i][n]=t[n]:r[n]!==e?(ce.setupOptions[n]=t[n],ce[n]=t[n]):a[n]===e?o=!1:ce[n]instanceof Function?ce[n].apply(ce,t[n]instanceof Array?t[n]:[t[n]]):ce[n]=t[n];else{if(a[n]!==e)return f(t[n],n);o=!1}return o},oe=function(){function e(t){var e=De.call(t),i=e.length;return s?(e[1]="on"+e[1],i>3&&e.pop()):3===i&&e.push(!1),e}function i(t,e){var i=t.shift(),n=[r[e]];s?i[n](t[0],t[1]):i[n].apply(i,t)}function n(){i(e(arguments),"add")}function o(){i(e(arguments),"remove")}var s=t.attachEvent,r={add:s?"attachEvent":"addEventListener",remove:s?"detachEvent":"removeEventListener"};return{add:n,remove:o}}(),ue={abort:s(function(){}),canplay:s(function(){var t,i=this._s;if(i._html5_canplay)return!0;if(i._html5_canplay=!0,i._onbufferchange(0),t=i._iO.position===e||isNaN(i._iO.position)?null:i._iO.position/Ke,this.currentTime!==t)try{this.currentTime=t}catch(n){}i._iO._oncanplay&&i._iO._oncanplay()}),canplaythrough:s(function(){var t=this._s;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesLoaded,t.bytesTotal,t._get_html5_duration()),t._onload(!0))}),durationchange:s(function(){var t,e=this._s;t=e._get_html5_duration(),isNaN(t)||t===e.duration||(e.durationEstimate=e.duration=t)}),ended:s(function(){var t=this._s;t._onfinish()}),error:s(function(){this._s._onload(!1)}),loadeddata:s(function(){var t=this._s;t._loaded||je||(t.duration=t._get_html5_duration())}),loadedmetadata:s(function(){}),loadstart:s(function(){this._s._onbufferchange(1)}),play:s(function(){this._s._onbufferchange(0)}),playing:s(function(){this._s._onbufferchange(0)}),progress:s(function(t){var e,i,n=this._s,o=0,s=("progress"===t.type,t.target.buffered),r=t.loaded||0,a=t.total||1;if(n.buffered=[],s&&s.length){for(e=0,i=s.length;i>e;e++)n.buffered.push({start:s.start(e)*Ke,end:s.end(e)*Ke});o=(s.end(0)-s.start(0))*Ke,r=Math.min(1,o/(t.target.duration*Ke))}isNaN(r)||(n._whileloading(r,a,n._get_html5_duration()),r&&a&&r===a&&ue.canplaythrough.call(this,t))}),ratechange:s(function(){}),suspend:s(function(t){var e=this._s;ue.progress.call(this,t),e._onsuspend()}),stalled:s(function(){}),timeupdate:s(function(){this._s._onTimer()}),waiting:s(function(){var t=this._s;t._onbufferchange(1)})},$=function(t){var e;return e=t&&(t.type||t.url||t.serverURL)?t.serverURL||t.type&&o(t.type)?!1:t.type?Z({type:t.type}):Z({url:t.url})||ce.html5Only||t.url.match(/data\:/i):!1},ee=function(t){var e;return t&&(e=je?Qe:ce.html5.canPlayType("audio/wav")?Ye:Qe,t.src=e,void 0!==t._called_unload&&(t._called_load=!1)),Be&&(se=null),e},Z=function(t){if(!ce.useHTML5Audio||!ce.hasHTML5)return!1;var i,n,s,r,a=t.url||null,l=t.type||null,u=ce.audioFormats;if(l&&ce.html5[l]!==e)return ce.html5[l]&&!o(l);if(!te){te=[];for(r in u)u.hasOwnProperty(r)&&(te.push(r),u[r].related&&(te=te.concat(u[r].related)));te=new RegExp("\\.("+te.join("|")+")(\\?.*)?$","i")}return s=a?a.toLowerCase().match(te):null,s&&s.length?s=s[1]:l?(n=l.indexOf(";"),s=(-1!==n?l.substr(0,n):l).substr(6)):i=!1,s&&ce.html5[s]!==e?i=ce.html5[s]&&!o(s):(l="audio/"+s,i=ce.html5.canPlayType({type:l}),ce.html5[s]=i,i=i&&ce.html5[l]&&!o(l)),i},ne=function(){function t(t){var e,i,n=!1,o=!1;if(!r||"function"!=typeof r.canPlayType)return n;if(t instanceof Array){for(s=0,i=t.length;i>s;s++)(ce.html5[t[s]]||r.canPlayType(t[s]).match(ce.html5Test))&&(o=!0,ce.html5[t[s]]=!0,ce.flash[t[s]]=!!t[s].match(Ge));n=o}else e=r&&"function"==typeof r.canPlayType?r.canPlayType(t):!1,n=!(!e||!e.match(ce.html5Test));return n}if(!ce.useHTML5Audio||!ce.hasHTML5)return ce.html5.usingFlash=!0,He=!0,!1;var i,n,o,s,r=Audio!==e?We&&opera.version()<10?new Audio(null):new Audio:null,a={};o=ce.audioFormats;for(i in o)if(o.hasOwnProperty(i)&&(n="audio/"+i,a[i]=t(o[i].type),a[n]=a[i],i.match(Ge)?(ce.flash[i]=!0,ce.flash[n]=!0):(ce.flash[i]=!1,ce.flash[n]=!1),o[i]&&o[i].related))for(s=o[i].related.length-1;s>=0;s--)a["audio/"+o[i].related[s]]=a[i],ce.html5[o[i].related[s]]=a[i],ce.flash[o[i].related[s]]=a[i];return a.canPlayType=r?t:null,ce.html5=c(ce.html5,a),ce.html5.usingFlash=Y(),He=ce.html5.usingFlash,!0},M={},U=function(){},W=function(t){return 8===d&&t.loops>1&&t.stream&&(t.stream=!1),t},J=function(t){return t&&!t.usePolicyFile&&(t.onid3||t.usePeakData||t.useWaveformData||t.useEQData)&&(t.usePolicyFile=!0),t},V=function(){},l=function(){return!1},B=function(t){var e;for(e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=l);e=null},k=function(t){t===e&&(t=!1),(Te||t)&&ce.disable(t)},F=function(t){var e,i=null;if(t)if(t.match(/\.swf(\?.*)?$/i)){if(i=t.substr(t.toLowerCase().lastIndexOf(".swf?")+4))return t}else t.lastIndexOf("/")!==t.length-1&&(t+="/");return e=(t&&-1!==t.lastIndexOf("/")?t.substr(0,t.lastIndexOf("/")+1):"./")+ce.movieURL,ce.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},O=function(){d=parseInt(ce.flashVersion,10),8!==d&&9!==d&&(ce.flashVersion=d=Ee);var t=ce.debugMode||ce.debugFlash?"_debug.swf":".swf";ce.useHTML5Audio&&!ce.html5Only&&ce.audioFormats.mp4.required&&9>d&&(ce.flashVersion=d=9),ce.version=ce.versionNumber+(ce.html5Only?" (HTML5-only mode)":9===d?" (AS3/Flash 9)":" (AS2/Flash 8)"),d>8?(ce.defaultOptions=c(ce.defaultOptions,ce.flash9Options),ce.features.buffering=!0,ce.defaultOptions=c(ce.defaultOptions,ce.movieStarOptions),ce.filePatterns.flash9=new RegExp("\\.(mp3|"+ei.join("|")+")(\\?.*)?$","i"),ce.features.movieStar=!0):ce.features.movieStar=!1,ce.filePattern=ce.filePatterns[8!==d?"flash9":"flash8"],ce.movieURL=(8===d?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",t),ce.features.peakData=ce.features.waveformData=ce.features.eqData=d>8},H=function(t,e){return me?void me._setPolling(t,e):!1},D=function(){},q=this.getSoundById,N=function(){var t=[];return ce.debugMode&&t.push(j.sm2Debug),ce.debugFlash&&t.push(j.flashDebug),ce.useHighPerformance&&t.push(j.highPerf),t.join(" ")},R=function(){var t=(U("fbHandler"),ce.getMoviePercent()),e=j,i={type:"FLASHBLOCK"};return ce.html5Only?!1:void(ce.ok()?ce.oMC&&(ce.oMC.className=[N(),e.swfDefault,e.swfLoaded+(ce.didFlashBlock?" "+e.swfUnblocked:"")].join(" ")):(He&&(ce.oMC.className=N()+" "+e.swfDefault+" "+(null===t?e.swfTimedout:e.swfError)),ce.didFlashBlock=!0,v({type:"ontimeout",ignoreInit:!0,error:i}),I(i)))},g=function(t,i,n){_e[t]===e&&(_e[t]=[]),_e[t].push({method:i,scope:n||null,fired:!1})},v=function(t){if(t||(t={type:ce.ok()?"onready":"ontimeout"}),!Oe&&t&&!t.ignoreInit)return!1;if("ontimeout"===t.type&&(ce.ok()||Te&&!t.ignoreInit))return!1;var e,i,n={success:t&&t.ignoreInit?ce.ok():!Te},o=t&&t.type?_e[t.type]||[]:[],s=[],r=[n],a=He&&!ce.ok();for(t.error&&(r[0].error=t.error),e=0,i=o.length;i>e;e++)o[e].fired!==!0&&s.push(o[e]);if(s.length)for(e=0,i=s.length;i>e;e++)s[e].scope?s[e].method.apply(s[e].scope,r):s[e].method.apply(this,r),a||(s[e].fired=!0);return!0},y=function(){t.setTimeout(function(){ce.useFlashBlock&&R(),v(),"function"==typeof ce.onload&&ce.onload.apply(t),ce.waitForWindowLoad&&oe.add(t,"load",y)},1)},ae=function(){if(re!==e)return re;var i,n,o,s=!1,r=navigator,a=r.plugins,l=t.ActiveXObject;if(a&&a.length)n="application/x-shockwave-flash",o=r.mimeTypes,o&&o[n]&&o[n].enabledPlugin&&o[n].enabledPlugin.description&&(s=!0);else if(l!==e&&!ge.match(/MSAppHost/i)){try{i=new l("ShockwaveFlash.ShockwaveFlash")}catch(u){i=null}s=!!i,i=null}return re=s,s},Y=function(){var t,e,i=ce.audioFormats,n=Fe&&!!ge.match(/os (1|2|3_0|3_1)\s/i);if(n?(ce.hasHTML5=!1,ce.html5Only=!0,ce.oMC&&(ce.oMC.style.display="none")):ce.useHTML5Audio&&(ce.html5&&ce.html5.canPlayType||(ce.hasHTML5=!1)),ce.useHTML5Audio&&ce.hasHTML5){Q=!0;for(e in i)i.hasOwnProperty(e)&&i[e].required&&(ce.html5.canPlayType(i[e].type)?ce.preferFlash&&(ce.flash[e]||ce.flash[i[e].type])&&(t=!0):(Q=!1,t=!0))}return ce.ignoreFlash&&(t=!1,Q=!0),ce.html5Only=ce.hasHTML5&&ce.useHTML5Audio&&!t,!ce.html5Only},K=function(t){var e,i,n,o=0;if(t instanceof Array){for(e=0,i=t.length;i>e;e++)if(t[e]instanceof Object){if(ce.canPlayMIME(t[e].type)){o=e;break}}else if(ce.canPlayURL(t[e])){o=e;break}t[o].url&&(t[o]=t[o].url),n=t[o]}else n=t;return n},z=function(t){t._hasTimer||(t._hasTimer=!0,!Je&&ce.html5PollingInterval&&(null===xe&&0===Ae&&(xe=setInterval(G,ce.html5PollingInterval)),Ae++))},X=function(t){t._hasTimer&&(t._hasTimer=!1,!Je&&ce.html5PollingInterval&&Ae--)},G=function(){var t;if(null!==xe&&!Ae)return clearInterval(xe),xe=null,!1;for(t=ce.soundIDs.length-1;t>=0;t--)ce.sounds[ce.soundIDs[t]].isHTML5&&ce.sounds[ce.soundIDs[t]]._hasTimer&&ce.sounds[ce.soundIDs[t]]._onTimer()},I=function(i){i=i!==e?i:{},"function"==typeof ce.onerror&&ce.onerror.apply(t,[{type:i.type!==e?i.type:null}]),i.fatal!==e&&i.fatal&&ce.disable()},le=function(){if(!Ve||!ae())return!1;var t,e,i=ce.audioFormats;for(e in i)if(i.hasOwnProperty(e)&&("mp3"===e||"mp4"===e)&&(ce.html5[e]=!1,i[e]&&i[e].related))for(t=i[e].related.length-1;t>=0;t--)ce.html5[i[e].related[t]]=!1},this._setSandboxType=function(){},this._externalInterfaceOK=function(){if(ce.swfLoaded)return!1;ce.swfLoaded=!0,ze=!1,Ve&&le(),setTimeout(h,Re?100:1)},x=function(t,i){function n(){}function o(t,e){return'<param name="'+t+'" value="'+e+'" />'}if(we&&be)return!1;if(ce.html5Only)return O(),n(),ce.oMC=a(ce.movieID),h(),we=!0,be=!0,!1;var s,r,l,u,d,p,c,f,m=i||ce.url,g=ce.altURL||m,v="JS/Flash audio component (SoundManager 2)",y=A(),_=N(),w=null,b=ye.getElementsByTagName("html")[0];if(w=b&&b.dir&&b.dir.match(/rtl/i),t=t===e?ce.id:t,O(),ce.url=F($e?m:g),i=ce.url,ce.wmode=!ce.wmode&&ce.useHighPerformance?"transparent":ce.wmode,null!==ce.wmode&&(ge.match(/msie 8/i)||!Re&&!ce.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Ie.push(M.spcWmode),ce.wmode=null),s={name:t,id:t,src:i,quality:"high",allowScriptAccess:ce.allowScriptAccess,bgcolor:ce.bgColor,pluginspage:Ze+"www.macromedia.com/go/getflashplayer",title:v,type:"application/x-shockwave-flash",wmode:ce.wmode,hasPriority:"true"},ce.debugFlash&&(s.FlashVars="debug=1"),ce.wmode||delete s.wmode,Re)r=ye.createElement("div"),u=['<object id="'+t+'" data="'+i+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+Ze+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',o("movie",i),o("AllowScriptAccess",ce.allowScriptAccess),o("quality",s.quality),ce.wmode?o("wmode",ce.wmode):"",o("bgcolor",ce.bgColor),o("hasPriority","true"),ce.debugFlash?o("FlashVars",s.FlashVars):"","</object>"].join("");else{r=ye.createElement("embed");for(l in s)s.hasOwnProperty(l)&&r.setAttribute(l,s[l])}if(D(),_=N(),y=A())if(ce.oMC=a(ce.movieID)||ye.createElement("div"),ce.oMC.id)f=ce.oMC.className,ce.oMC.className=(f?f+" ":j.swfDefault)+(_?" "+_:""),ce.oMC.appendChild(r),Re&&(d=ce.oMC.appendChild(ye.createElement("div")),d.className=j.swfBox,d.innerHTML=u),be=!0;
else{if(ce.oMC.id=ce.movieID,ce.oMC.className=j.swfDefault+" "+_,p=null,d=null,ce.useFlashBlock||(ce.useHighPerformance?p={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(p={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},w&&(p.left=Math.abs(parseInt(p.left,10))+"px"))),Ne&&(ce.oMC.style.zIndex=1e4),!ce.debugFlash)for(c in p)p.hasOwnProperty(c)&&(ce.oMC.style[c]=p[c]);try{Re||ce.oMC.appendChild(r),y.appendChild(ce.oMC),Re&&(d=ce.oMC.appendChild(ye.createElement("div")),d.className=j.swfBox,d.innerHTML=u),be=!0}catch(T){throw new Error(U("domError")+" \n"+T.toString())}}return we=!0,n(),!0},E=function(){return ce.html5Only?(x(),!1):me?!1:ce.url?(me=ce.getMovie(ce.id),me||(Pe?(Re?ce.oMC.innerHTML=Se:ce.oMC.appendChild(Pe),Pe=null,we=!0):x(ce.id,ce.url),me=ce.getMovie(ce.id)),"function"==typeof ce.oninitmovie&&setTimeout(ce.oninitmovie,1),!0):!1},_=function(){setTimeout(w,1e3)},b=function(){t.setTimeout(function(){ce.setup({preferFlash:!1}).reboot(),ce.didFlashBlock=!0,ce.beginDelayedInit()},1)},w=function(){var e,i=!1;return ce.url?Le?!1:(Le=!0,oe.remove(t,"load",_),re&&ze&&!qe?!1:(Oe||(e=ce.getMoviePercent(),e>0&&100>e&&(i=!0)),void setTimeout(function(){return e=ce.getMoviePercent(),i?(Le=!1,t.setTimeout(_,1),!1):void(!Oe&&Xe&&(null===e?ce.useFlashBlock||0===ce.flashLoadTimeout?ce.useFlashBlock&&R():!ce.useFlashBlock&&Q?b():v({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0===ce.flashLoadTimeout||(!ce.useFlashBlock&&Q?b():k(!0))))},ce.flashLoadTimeout))):!1},T=function(){function e(){oe.remove(t,"focus",T)}return qe||!ze?(e(),!0):(Xe=!0,qe=!0,Le=!1,_(),e(),!0)},de=function(){},he=function(){},p=function(e){if(Oe)return!1;if(ce.html5Only)return Oe=!0,y(),!0;var i,n=ce.useFlashBlock&&ce.flashLoadTimeout&&!ce.getMoviePercent(),o=!0;return n||(Oe=!0),i={type:!re&&He?"NO_FLASH":"INIT_TIMEOUT"},(Te||e)&&(ce.useFlashBlock&&ce.oMC&&(ce.oMC.className=N()+" "+(null===ce.getMoviePercent()?j.swfTimedout:j.swfError)),v({type:"ontimeout",error:i,ignoreInit:!0}),I(i),o=!1),Te||(ce.waitForWindowLoad&&!Me?oe.add(t,"load",y):y()),o},u=function(){var t,i=ce.setupOptions;for(t in i)i.hasOwnProperty(t)&&(ce[t]===e?ce[t]=i[t]:ce[t]!==i[t]&&(ce.setupOptions[t]=ce[t]))},h=function(){function e(){oe.remove(t,"load",ce.beginDelayedInit)}if(Oe)return!1;if(ce.html5Only)return Oe||(e(),ce.enabled=!0,p()),!0;E();try{me._externalInterfaceTest(!1),H(!0,ce.flashPollingInterval||(ce.useHighPerformance?10:50)),ce.debugMode||me._disableDebug(),ce.enabled=!0,ce.html5Only||oe.add(t,"unload",l)}catch(i){return I({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),k(!0),p(),!1}return p(),e(),!0},S=function(){return C?!1:(C=!0,u(),D(),!re&&ce.hasHTML5&&ce.setup({useHTML5Audio:!0,preferFlash:!1}),ne(),!re&&He&&(Ie.push(M.needFlash),ce.setup({flashLoadTimeout:1})),ye.removeEventListener&&ye.removeEventListener("DOMContentLoaded",S,!1),E(),!0)},ie=function(){return"complete"===ye.readyState&&(S(),ye.detachEvent("onreadystatechange",ie)),!0},L=function(){Me=!0,S(),oe.remove(t,"load",L)},P=function(){Je&&(ce.setupOptions.useHTML5Audio=!0,ce.setupOptions.preferFlash=!1,(Fe||Ue&&!ge.match(/android\s2\.3/i))&&(Fe&&(ce.ignoreFlash=!0),Be=!0))},P(),ae(),oe.add(t,"focus",T),oe.add(t,"load",_),oe.add(t,"load",L),ye.addEventListener?ye.addEventListener("DOMContentLoaded",S,!1):ye.attachEvent?ye.attachEvent("onreadystatechange",ie):I({type:"NO_DOM2_EVENTS",fatal:!0})}if(!t||!t.document)throw new Error("SoundManager requires a browser with window and document objects.");var n=null;void 0!==t.SM2_DEFER&&SM2_DEFER||(n=new i),"object"==typeof module&&module&&"object"==typeof module.exports?(t.soundManager=n,module.exports.SoundManager=i,module.exports.soundManager=n):"function"==typeof define&&define.amd?define("SoundManager",[],function(){return{SoundManager:i,soundManager:n}}):(t.SoundManager=i,t.soundManager=n)}(window),/*
 * Archivist.fm website
 * --------------------
 *
 * Copyright (c) 2014-2015, Seventea Studios
 */
function(){}.call(this),function(){window.addEvent=function(t,e,i){return t.attachEvent?(t["e"+e+i]=i,t[e+i]=function(){return t["e"+e+i](window.event)},t.attachEvent("on"+e,t[e+i])):t.addEventListener(e,i,!1)},window.removeEvent=function(t,e,i){return t.detachEvent?(t.detachEvent("on"+e,t[e+i]),t[e+i]=null):t.removeEventListener(e,i,!1)}}.call(this),function(){window.preventDefault=function(t){return t.returnValue=!1,t.preventDefault?t.preventDefault():void 0}}.call(this),function(){Opentip.styles.social={"extends":"dark",target:!0,targetJoint:"bottom",tipJoint:"top"},Opentip.defaultStyle="social"}.call(this),function(t,e){t.onload=function(){function i(){Archivist.Ui.playButton.style.display="none",Archivist.Ui.loading.style.display="block",n.start(function(){Archivist.Ui.loading.style.display="none",Archivist.Ui.pauseButton.style.display="block",Archivist.Ui.nowPlaying.style.visibility=""})}if(t.alias)return void setTimeout(function(){e.location=t.alias},0);t.Archivist={},Archivist.Ui={html:e.documentElement,body:e.body,strip:e.getElementById("strip"),nowPlaying:e.getElementById("now_playing"),loading:e.getElementById("loading"),playButton:e.getElementById("play_button"),pauseButton:e.getElementById("pause_button"),streamError:e.getElementById("stream_error"),definition:e.getElementById("definition")},Archivist.AudioStream=function(t,e){var i=this;i.url=t,i.playing=!1,i.mobile=navigator.userAgent.match(/(ipad|iphone|ipod|android)/i),soundManager.setup({url:"assets/flash/",preferFlash:!0,onready:function(){e()},ontimeout:function(){Archivist.Ui.streamError.style.display="block",Archivist.Ui.loading.style.display="none"}})},Archivist.AudioStream.prototype.start=function(t){var e=this,i=function(){e.sound.setVolume(100),e.playing=!0,t&&t()};e.playing||(null==e.sound?e.sound=e.load(i):i())},Archivist.AudioStream.prototype.stop=function(){var t=this;t.playing&&(t.sound.setVolume(0),t.mobile&&(t.sound.stop(),t.sound.destruct(),t.sound=null),t.playing=!1)},Archivist.AudioStream.prototype.load=function(t){var e=this;return soundManager.createSound({url:e.url,volume:0,autoPlay:!0,onload:function(){t&&t()},whileloading:function(){!this.loaded&&!this.loadinghack&&this.bytesLoaded>3e5&&(this.loadinghack=!0,t&&t())}})},Archivist.preloadedImages={},Archivist.preloadImage=function(i,n){var o,s=this;s.preloadedImages[i]?n&&n():(o=e.createElement("img"),t.addEvent(o,"load",function(){s.preloadedImages[i]=o,n&&n()}),o.src=i)},Archivist.preloadImages=function(t){for(var e=this,i=0;i<t.length;i++)e.preloadImage(t[i])},Archivist.Ui.playButton.style.display="none",Archivist.Ui.pauseButton.style.display="none";var n=new Archivist.AudioStream("http://88.198.238.45:8005/stream",function(){t.addEvent(Archivist.Ui.playButton,"click",function(e){i(),t.preventDefault(e)}),t.addEvent(Archivist.Ui.pauseButton,"click",function(e){n.stop(),Archivist.Ui.nowPlaying.style.visibility="hidden",Archivist.Ui.pauseButton.style.display="none",Archivist.Ui.playButton.style.display="block",t.preventDefault(e)}),t.addEvent(e,"keydown",function(e){var i=e.keyCode||e.which;32==i&&(n.playing?(n.stop(),Archivist.Ui.nowPlaying.style.visibility="hidden",Archivist.Ui.pauseButton.style.display="none",Archivist.Ui.playButton.style.display="block",t.preventDefault(e)):(n.start(),Archivist.Ui.nowPlaying.style.visibility="",Archivist.Ui.playButton.style.display="none",Archivist.Ui.pauseButton.style.display="block",t.preventDefault(e)))}),Archivist.Ui.loading.style.display="none",Archivist.Ui.playButton.style.display="block"});"?play"==location.search&&i();var o=["assets/images/backgrounds/microphone.jpg","assets/images/backgrounds/truck.jpg","assets/images/backgrounds/vinyl.jpg"],s=-1,r=function(){s+=1,s>o.length-1&&(s=0),Archivist.Ui.html.style.backgroundImage='url("'+o[s]+'")'};t.setTimeout(function(){r(),Archivist.preloadImage(o[0],function(){Archivist.preloadImages(o)})},10),t.setInterval(function(){r()},3e4),Archivist.removeTextWithDelay=function(e,i,n){var o=e.innerHTML.trim(),s=t.setInterval(function(){o=o.substring(0,o.length-1),e.innerHTML=o,0==o.length&&(clearInterval(s),n&&n())},i)},Archivist.setTextWithDelay=function(e,i,n,o){var s="",r=t.setInterval(function(){s=i.substring(0,s.length+1),Archivist.Ui.definition.innerHTML=s,s.length==i.length&&(clearInterval(r),o&&o())},n)},Archivist.replaceTextWithDelay=function(t,e,i,n){Archivist.removeTextWithDelay(t,i,function(){Archivist.setTextWithDelay(t,e,i,function(){n&&n()})})},Archivist.definitions=["An attractive younger woman that has sexual relations with wealthy older men and records all conversations made between the two illegally. Then uses it as blackmail against said older men for monetary or public gain.","Archivists keep records that have enduring value as reliable memories of the past, and help people find and understand the information they need in those records.","An archivist is a nice name for male secretary. When a male secretary is embarrassed of their profession and they try to pretend they aren't just giving coffee to a boss, they call themselves archivists."],Archivist.currentDefinition=0,Archivist.nextDefinition=function(t){var e=Archivist.currentDefinition+1;e>Archivist.definitions.length-1&&(e=0),Archivist.replaceTextWithDelay(Archivist.Ui.definition,Archivist.definitions[e],50,function(){Archivist.currentDefinition=e,t&&t()})},Archivist.definitionQueue=function(e){t.setTimeout(function(){Archivist.nextDefinition(function(){Archivist.definitionQueue(e)})},e)},Archivist.definitionQueue(6e4);var a=function(){Archivist.Ui.strip.style.height="",Archivist.Ui.strip.style.height=Math.max(Archivist.Ui.body.scrollHeight,Archivist.Ui.body.offsetHeight,Archivist.Ui.html.clientHeight,Archivist.Ui.html.scrollHeight,Archivist.Ui.html.offsetHeight)+"px"};a(),t.onresize=a}}(window,document);